{% extends 'layoutAdmin.html.twig' %}

{% block breadcrumb %}
    <!-- breadcrumb -->
    <ol class="breadcrumb">
        <li>Home</li>
        <li>Dashboard</li>
        <li>Générale</li>
        <li>Clubs</li>
    </ol>
    <!-- end breadcrumb -->
{% endblock %}

{% block sousBreadcrumb %}
    <h1 class="page-title txt-color-blueDark">
        <i class="fa fa-cogs"></i>
        Générale
        <span>> Gestion des Clubs</span></h1>
{% endblock %}

{% block body %}
    <!-- row -->
    <div class="row">
        <!-- NEW WIDGET START -->
        <article class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false" role="widget">
                <header role="heading">
                    <span class="widget-icon"> <i class="fas fa-star"></i> </span>
                    <h2>Mon Club</h2>
                    <span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span></header>
                <!-- widget div-->
                <div role="content">
                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->
                    </div>
                    <!-- end widget edit box -->

                    <!-- widget content -->
                    <div class="widget-body">
                        <table>
                            <tbody>
                            {% for club in monClub %}
                                <tr>
                                    <td>
                                        {% if club.logo is not null %}
                                            <img class="img-responsive" src="{{ asset(club.logo.webPath) }}" alt="{{ club.logo.alt }}" width="65px"  />
                                        {% endif %}
                                    </td>
                                    <td style="vertical-align: middle;"><strong>{{ club.nomClub }} <a href="" > <i class="fa fa-times text-danger" aria-hidden="true"></i></a></strong></td>
                                </tr>
                            {% else %}
                                <td class="txt-color-blue">Hum, C'est embarrassant... pas de club de sélectionner !</td>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- end widget content -->
                </div>
                <!-- end widget div -->
            </div>
        </article>

        <article class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false" role="widget">
                <header role="heading">
                    <span class="widget-icon"> <i class="far fa-star"></i> </span>
                    <h2>Club(s) en Convention</h2>
                    <span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span></header>
                <!-- widget div-->
                <div role="content">
                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->
                    </div>
                    <!-- end widget edit box -->

                    <!-- widget content -->
                    <div class="widget-body">
                        <table>
                            <tbody>
                            {% for club in clubConvention %}
                                <tr>
                                    <td>
                                        {% if club.logo is not null %}
                                            <img class="img-responsive" src="{{ asset(club.logo.webPath) }}" alt="{{ club.logo.alt }}" width="40px"  />
                                        {% endif %}
                                    </td>
                                    <td style="vertical-align: middle;">{{ club.nomClub }} <a href="" > <i class="fa fa-times text-danger" aria-hidden="true"></i></a></td>
                                </tr>
                            {% else %}
                                <td style="vertical-align: middle;">Pô de club en convention cette année !</td>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- end widget content -->
                </div>
                <!-- end widget div -->
            </div>
        </article>
    </div>
    <!-- row -->
    <div class="row">
        <!-- NEW WIDGET START -->
        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <!-- Widget ID (each widget will need unique ID)-->
            <div class="jarviswidget jarviswidget-color-darken" id="wid-id-0" data-widget-editbutton="false" data-widget-deletebutton="false" data-widget-togglebutton="false">

                <header>
                    <span class="widget-icon"><i class="fa fa-arrow-down"></i></span>
                    <h2>
                        <strong>Liste</strong>
                        Des Clubs
                    </h2>
                    <div class="widget-toolbar" role="menu">

                        <div class="btn-group">
                            <a href="{{ path('admin_club_new') }}" class="btn dropdown-toggle btn-xs btn-primary">
                                <i class="fa fa-plus"></i>
                                <strong>Ajouter un Club</strong>
                            </a>
                            <a href="{{ path('admin_club_new') }}" class="btn dropdown-toggle btn-xs bg-color-purple txt-color-white">
                                <i class="fas fa-sync"></i>
                                <strong>Actualisation des Matchs</strong>
                            </a>
                        </div>
                    </div>
                </header>

                <!-- widget div-->
                <div>

                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->

                    </div>
                    <!-- end widget edit box -->

                    <!-- widget content -->
                    <div class="widget-body">

                        <table id="example" class="table table-striped table-hover dataTable no-footer" width="100%" cellspacing="0">
                            <thead>
                            <tr>
                                <th><i class="fas fa-image no-margin"></i></th>
                                <th>Club</th>
                                <th>Abréviation</th>
                                <th>Liens</th>
                                <th>Couleur(s)</th>
                                <th>Numéro Fédéral</th>
                                <th></th>
                                <th><i class="fa fa-user"></i> Add By</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for club in listclubs %}
                                <tr >
                                    <td>
                                        {% if club.logo is not null %}
                                            <img class="img-responsive" src="{{ asset(club.logo.webPath) }}" alt="{{ club.logo.alt }}" width="50px"  />
                                        {% endif %}
                                    </td>
                                    <td style="vertical-align: middle;">{{ club.nomClub }}</td>
                                    <td style="vertical-align: middle;">{{ club.abreviation }}</td>
                                    <td style="vertical-align: middle;">
                                        {% if club.siteInternet is not null %}<a onclick="window.open('{{ club.siteInternet }}'); return false;"> <i class="fa fa-globe"></i></a>{% endif %}

                                        {% if club.facebook is not null %}<a onclick="window.open('{{ club.facebook }}'); return false;"> <i class="fa fa-facebook-official"></i></a>{% endif %}
                                    </td>
                                    <td style="vertical-align: middle;">
                                        {% if club.couleur2 is not null %}
                                            <a class="btn btn-default btn-circle" style="background-color: {{ club.couleur1 }}"></a>
                                        {% endif %}
                                        {% if club.couleur2 is not null %}
                                            <a class="btn btn-default btn-circle" style="background-color: {{ club.couleur2 }}"></a>
                                        {% endif %}
                                    </td>
                                    <td style="vertical-align: middle;">{{ club.numeroFederal}}</td>
                                    <td style="vertical-align: middle;">
                                        <div class="btn-group-vertical">
                                            <a href="{{ path('admin_club_edit', {'id':club.id}) }}"
                                               class="btn btn-xs bg-color-teal txt-color-white">
                                                <i class="fas fa-edit"></i>
                                                Editer</a>
                                            <form action="{{ path('admin_club_delete', {'id':club.id}) }}" method="post">
                                                <input type="hidden" name="form[_token]" value="{{ csrf_token('form') }}" />
                                                <input type="hidden" name="_method" value="DELETE" />
                                                <button type="submit" class="btn btn-danger btn-xs"><i class="fa fa-trash"></i> Supprimer</button>
                                            </form>
                                        </div>
                                    </td>
                                    <td style="vertical-align: middle;">
                                        <i class="far fa-plus-square"></i> {{ club.createdBy.username }} le {{ club.createdAt|date('d/m/Y') }} à {{ club.createdAt|date('H:i') }} </br>
                                        {% if club.updatedBy is not null and  club.updatedAt > club.createdAt %}<i class="fas fa-wrench"></i> {{ club.updatedBy.username }} le {{ club.updatedAt|date('d/m/Y') }} à {{ club.updatedAt|date('H:i') }}{% endif %}
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>

                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div>

        </article>
    </div>
{% endblock %}